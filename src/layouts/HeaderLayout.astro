<header class="text-gray-900 dark:text-gray-100">
  <div class="flex justify-between items-center py-4 px-6">
    <a href="/" class="text-2xl font-bold no-underline">Flynn's Blog</a>
    <nav class="flex items-center space-x-6">
      <div class="hidden md:flex items-center space-x-6">
        <a href="/about" class="hover:text-blue-500 dark:hover:text-blue-400 no-underline transition-colors">About me</a>
        <a href="/tags" class="hover:text-blue-500 dark:hover:text-blue-400 no-underline transition-colors">Tags</a>
      </div>
      <!-- 深色模式切换按钮 -->
      <button
        id="theme-toggle"
        class="p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
        aria-label="切换深色模式"
      >
        <!-- 太阳图标 (深色模式下显示) -->
        <svg
          id="sun-icon"
          class="h-5 w-5 hidden dark:block"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
          ></path>
        </svg>
        <!-- 月亮图标 (浅色模式下显示) -->
        <svg
          id="moon-icon"
          class="h-5 w-5 block dark:hidden"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
          ></path>
        </svg>
      </button>
      <button
        id="menu-button"
        class="md:hidden ml-2 p-2"
        aria-expanded="false"
        aria-label="菜单"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16m-7 6h7"></path>
        </svg>
      </button>
    </nav>
  </div>

  <!-- 移动菜单 -->
  <div id="mobile-menu" class="hidden md:hidden px-6 py-4 bg-stone-50 dark:bg-gray-800 shadow-md">
    <div class="flex flex-col space-y-4">
      <a href="/about" class="hover:text-blue-500 dark:hover:text-blue-400 no-underline transition-colors">About me</a>
      <a href="/tags" class="hover:text-blue-500 dark:hover:text-blue-400 no-underline transition-colors">Tags</a>
    </div>
  </div>
</header>

<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    // 移动菜单切换
    const menuButton = document.getElementById("menu-button");
    const mobileMenu = document.getElementById("mobile-menu");

    if (menuButton && mobileMenu) {
      menuButton.addEventListener("click", () => {
        const expanded = menuButton.getAttribute("aria-expanded") === "true";
        menuButton.setAttribute("aria-expanded", !expanded);
        mobileMenu.classList.toggle("hidden");
      });
    }

    // 深色模式切换
    const themeToggle = document.getElementById("theme-toggle");
    if (themeToggle) {
      themeToggle.addEventListener("click", () => {
        const isDark = document.documentElement.classList.toggle("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
      });
    }
  });
</script>
